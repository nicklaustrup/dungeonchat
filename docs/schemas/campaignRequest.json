{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "title": "Campaign Request",
  "description": "Request to join a campaign",
  "type": "object",
  "required": ["id", "campaignId", "userId", "status", "createdAt"],
  "properties": {
    "id": {
      "type": "string",
      "description": "Request ID"
    },
    "campaignId": {
      "type": "string",
      "description": "Campaign ID"
    },
    "userId": {
      "type": "string",
      "description": "User ID requesting to join"
    },
    "status": {
      "type": "string",
      "enum": ["pending", "approved", "denied"],
      "description": "Request status"
    },
    "message": {
      "type": "string",
      "maxLength": 500,
      "description": "Optional message from user"
    },
    "createdAt": {
      "type": "object",
      "description": "Firestore server timestamp"
    },
    "respondedAt": {
      "type": "object",
      "description": "Firestore server timestamp when DM responded"
    },
    "respondedBy": {
      "type": "string",
      "description": "DM user ID who responded"
    }
  },
  "firestorePath": "/campaignRequests/{requestId}",
  "securityNotes": [
    "Users can create join requests with status 'pending'",
    "Users can read their own requests",
    "DMs can read requests for their campaigns",
    "DMs can update requests (approve/deny)",
    "Users can delete their own pending requests"
  ],
  "indexing": {
    "required": []
  }
}
